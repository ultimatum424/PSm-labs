Модуль скидок для интернет-магазина
Идея решения:
1) Описываем товары, которые представлены в магазине
2) Описываем доступные скидки(список товаров (id товара, его условие нахождения, применяется на ли скидка на него), завист ли это         скидка от следующей, правило применения скидка, процент скидки)
3) Заполняем корзину товарами
4) Передаём корзину, список товаров и список доступных скидок для расчёта

Расчёт скидок:
1) Идём по списку скидок и проверяем можем ли мы применить данную скидку в корзине
2) Если можем и скидка зависит от сделующей (прим. при 3,4,5 товарах) то ищем финальный вариант
3) Считаем скидку для корзины и убераем из неё товары, к которым применили скидку
4) Если скидку можно применить несколько раз, то повторяем действие (3)
5) После прохода всех скидок, получем список товаров в корзине к которым скидки не применялись и спиоск применённых скидок
6) Расчитывем сумму заказа без учёта скидок и с учётом всех полученных скидок
